# üéì Sistema de Gesti√≥n Escolar - Frontend

Cliente web moderno para el sistema de gesti√≥n y reporte de calificaciones escolares. Interfaz intuitiva y responsive que permite a maestros y administradores gestionar calificaciones de forma eficiente.

[![React](https://img.shields.io/badge/React-18-blue)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue)](https://www.typescriptlang.org/)
[![Vite](https://img.shields.io/badge/Vite-5.0-purple)](https://vitejs.dev/)
[![Tailwind](https://img.shields.io/badge/Tailwind-3.4-cyan)](https://tailwindcss.com/)
[![License](https://img.shields.io/badge/license-MIT-green)](LICENSE)

---

## üìã Tabla de Contenidos

- [Caracter√≠sticas](#caracter√≠sticas)
- [Stack Tecnol√≥gico](#stack-tecnol√≥gico)
- [Requisitos Previos](#requisitos-previos)
- [Instalaci√≥n](#instalaci√≥n)
- [Configuraci√≥n](#configuraci√≥n)
- [Uso](#uso)
- [Funcionalidades por Rol](#funcionalidades-por-rol)
- [Docker](#docker)
- [Estructura del Proyecto](#estructura-del-proyecto)
- [Scripts Disponibles](#scripts-disponibles)

---

## ‚ú® Caracter√≠sticas

- ‚úÖ **Interfaz moderna** con Tailwind CSS
- ‚úÖ **TypeScript** para type safety
- ‚úÖ **Autenticaci√≥n JWT** completa
- ‚úÖ **Rutas protegidas** por rol
- ‚úÖ **Context API** para estado global
- ‚úÖ **Custom Hooks** reutilizables
- ‚úÖ **Responsive Design** (mobile-first)
- ‚úÖ **Interceptores Axios** para JWT autom√°tico
- ‚úÖ **Dashboard personalizado** por rol
- ‚úÖ **Manejo de errores** robusto

---

## üöÄ Stack Tecnol√≥gico

| Tecnolog√≠a | Versi√≥n | Prop√≥sito |
|------------|---------|-----------|
| React | 18.2 | UI Library |
| TypeScript | 5.3 | Tipado est√°tico |
| Vite | 5.0 | Build tool |
| React Router | 6.21 | Routing |
| Axios | 1.6 | HTTP Client |
| Tailwind CSS | 3.4 | Estilos |

---

## üì¶ Requisitos Previos

- **Node.js** >= 18.0.0 ([Descargar](https://nodejs.org/))
- **npm** >= 9.0.0 (incluido con Node.js)
- **Backend API** corriendo ([Ver repositorio](https://github.com/tu-usuario/school_management_backend))

---

## üîß Instalaci√≥n

### 1. Clonar el Repositorio

```bash
git clone https://github.com/tu-usuario/school_management_frontend.git
cd school_management_frontend
```

### 2. Instalar Dependencias

```bash
npm install
```

### 3. Configurar Variables de Entorno

```bash
cp .env.example .env
```

Edita el archivo `.env`:

```env
# URL del Backend API
VITE_API_URL=http://localhost:3000/api

# Nombre de la aplicaci√≥n
VITE_APP_NAME=Sistema de Gesti√≥n Escolar
```

### 4. Iniciar en Desarrollo

```bash
npm run dev
```

**Aplicaci√≥n corriendo en:** `http://localhost:5173`

---

## ‚öôÔ∏è Configuraci√≥n

### Variables de Entorno

| Variable | Descripci√≥n | Ejemplo | Requerida |
|----------|-------------|---------|-----------|
| `VITE_API_URL` | URL del backend | `http://localhost:3000/api` | ‚úÖ |
| `VITE_APP_NAME` | Nombre de la app | `Sistema de Gesti√≥n Escolar` | ‚ùå |

### Configuraci√≥n de Tailwind

El proyecto usa Tailwind CSS con configuraci√≥n personalizada en `tailwind.config.js`:

```javascript
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        primary: {
          // Colores personalizados
        },
      },
    },
  },
  plugins: [],
}
```

---

## üíª Uso

### Iniciar Sesi√≥n

1. Abre `http://localhost:5173/login`
2. Usa las credenciales de prueba:

**Control Escolar:**
- Email: `admin@school.com`
- Password: `admin123`

**Maestro:**
- Email: `maestro1@school.com`
- Password: `maestro123`

### Navegaci√≥n

Despu√©s del login, ser√°s redirigido al Dashboard seg√∫n tu rol:

**Maestro:**
- Dashboard
- Gesti√≥n de Calificaciones
- Lista de Alumnos Asignados

**Control Escolar:**
- Dashboard
- Reportes Globales
- Supervisi√≥n de Calificaciones

---

## üë• Funcionalidades por Rol

### üéì Rol: MAESTRO

#### Dashboard
- Vista de resumen personalizada
- Accesos r√°pidos a funcionalidades

#### Gesti√≥n de Calificaciones
- ‚úÖ Ver lista de calificaciones propias
- ‚úÖ Filtrar por materia, alumno o grupo
- ‚úÖ Registrar nuevas calificaciones
- ‚úÖ Editar calificaciones existentes
- ‚úÖ Ver detalle de calificaciones
- ‚ùå No puede eliminar calificaciones

#### Alumnos
- ‚úÖ Ver alumnos asignados
- ‚úÖ Filtrar por grupo
- ‚úÖ Ver historial de calificaciones por alumno

**Restricciones:**
- Solo puede ver y editar sus propias calificaciones
- No puede acceder a reportes de otros maestros
- No puede eliminar calificaciones

---

### üè´ Rol: CONTROL_ESCOLAR (Admin)

#### Dashboard
- Vista de resumen ejecutiva
- Estad√≠sticas globales

#### Reportes
- ‚úÖ Reporte general del sistema
- ‚úÖ Reporte por alumno espec√≠fico
- ‚úÖ Reporte por materia
- ‚úÖ Reporte por grupo
- ‚úÖ Estad√≠sticas de aprobaci√≥n
- ‚úÖ Promedios globales

#### Supervisi√≥n
- ‚úÖ Ver todas las calificaciones del sistema
- ‚úÖ Eliminar calificaciones err√≥neas (soft delete)
- ‚úÖ Filtrar por maestro, materia, alumno o grupo

**Permisos:**
- Acceso completo a todos los reportes
- Puede eliminar cualquier calificaci√≥n
- Puede supervisar el trabajo de todos los maestros

---

## üê≥ Docker

### Ejecutar con Docker Compose

```bash
# Levantar servicio
docker-compose up -d

# Ver logs
docker-compose logs -f frontend

# Detener servicio
docker-compose down
```

### Dockerfile

```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
EXPOSE 5173
CMD ["npm", "run", "dev", "--", "--host"]
```

---

## üìÅ Estructura del Proyecto

```
src/
‚îú‚îÄ‚îÄ assets/              # Recursos est√°ticos
‚îú‚îÄ‚îÄ components/          # Componentes React
‚îÇ   ‚îú‚îÄ‚îÄ common/         # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Modal.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Table.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Loading.tsx
‚îÇ   ‚îú‚îÄ‚îÄ layout/         # Layout components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Layout.tsx
‚îÇ   ‚îî‚îÄ‚îÄ forms/          # Formularios espec√≠ficos
‚îÇ       ‚îî‚îÄ‚îÄ CalificacionForm.tsx
‚îú‚îÄ‚îÄ pages/              # P√°ginas/Vistas
‚îÇ   ‚îú‚îÄ‚îÄ Login.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx
‚îÇ   ‚îú‚îÄ‚îÄ maestro/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CalificacionesPage.tsx
‚îÇ   ‚îî‚îÄ‚îÄ admin/
‚îÇ       ‚îî‚îÄ‚îÄ ReportesPage.tsx
‚îú‚îÄ‚îÄ hooks/              # Custom hooks
‚îÇ   ‚îî‚îÄ‚îÄ useAuth.ts
‚îú‚îÄ‚îÄ services/           # Servicios API
‚îÇ   ‚îú‚îÄ‚îÄ api.ts
‚îÇ   ‚îú‚îÄ‚îÄ authService.ts
‚îÇ   ‚îú‚îÄ‚îÄ calificacionService.ts
‚îÇ   ‚îú‚îÄ‚îÄ alumnoService.ts
‚îÇ   ‚îî‚îÄ‚îÄ reporteService.ts
‚îú‚îÄ‚îÄ context/            # Context API
‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.tsx
‚îú‚îÄ‚îÄ types/              # Types TypeScript
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ routes/             # Configuraci√≥n de rutas
‚îÇ   ‚îú‚îÄ‚îÄ AppRoutes.tsx
‚îÇ   ‚îî‚îÄ‚îÄ PrivateRoute.tsx
‚îú‚îÄ‚îÄ styles/             # Estilos globales
‚îÇ   ‚îî‚îÄ‚îÄ index.css
‚îú‚îÄ‚îÄ utils/              # Utilidades
‚îÇ   ‚îî‚îÄ‚îÄ formatters.ts
‚îú‚îÄ‚îÄ App.tsx             # Componente ra√≠z
‚îî‚îÄ‚îÄ main.tsx            # Entry point
```

---

## üìú Scripts Disponibles

```bash
# Desarrollo
npm run dev              # Iniciar servidor de desarrollo

# Build
npm run build           # Build para producci√≥n
npm run preview         # Preview del build

# Linting
npm run lint            # Verificar c√≥digo
npm run lint:fix        # Corregir autom√°ticamente

# Formateo
npm run format          # Formatear con Prettier

# Testing
npm test                # Ejecutar tests
```

---

## üîå Integraci√≥n con Backend

### Cliente Axios Configurado

El proyecto incluye un cliente Axios con interceptores autom√°ticos:

```typescript
// src/services/api.ts
import axios from 'axios';

const api = axios.create({
  baseURL: import.meta.env.VITE_API_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

// Interceptor: Agregar token autom√°ticamente
api.interceptors.request.use((config) => {
  const token = localStorage.getItem('token');
  if (token && config.headers) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// Interceptor: Manejo de errores
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // Redirigir al login si el token es inv√°lido
      localStorage.removeItem('token');
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

export default api;
```

### Servicios Disponibles

#### authService
```typescript
import { authService } from './services/authService';

// Login
await authService.login({ email, password });

// Obtener perfil
await authService.obtenerPerfil();

// Logout
authService.logout();
```

#### calificacionService
```typescript
import { calificacionService } from './services/calificacionService';

// Obtener calificaciones
await calificacionService.obtenerCalificaciones(filtros);

// Crear calificaci√≥n
await calificacionService.crearCalificacion(data);

// Actualizar calificaci√≥n
await calificacionService.actualizarCalificacion(id, data);

// Eliminar calificaci√≥n
await calificacionService.eliminarCalificacion(id);
```

---

## üé® Estilos y Temas

### Tailwind CSS

El proyecto usa Tailwind CSS con clases personalizadas:

```css
/* src/styles/index.css */

/* Botones */
.btn-primary {
  @apply bg-blue-600 text-white px-4 py-2 rounded-lg 
         hover:bg-blue-700 transition-colors duration-200 font-medium;
}

.btn-secondary {
  @apply bg-gray-200 text-gray-800 px-4 py-2 rounded-lg 
         hover:bg-gray-300 transition-colors duration-200 font-medium;
}

/* Inputs */
.input-field {
  @apply w-full px-3 py-2 border border-gray-300 rounded-lg 
         focus:outline-none focus:ring-2 focus:ring-blue-500 
         focus:border-transparent;
}

/* Cards */
.card {
  @apply bg-white rounded-lg shadow-md p-6;
}
```

---

## üîê Autenticaci√≥n y Rutas

### AuthContext

El proyecto usa Context API para manejar la autenticaci√≥n:

```typescript
import { useAuth } from './hooks/useAuth';

function Component() {
  const { 
    usuario, 
    login, 
    logout, 
    isAuthenticated,
    isMaestro,
    isControlEscolar 
  } = useAuth();

  // Usar en el componente
}
```

### Rutas Protegidas

```typescript
<PrivateRoute requiredRole="MAESTRO">
  <CalificacionesPage />
</PrivateRoute>

<PrivateRoute requiredRole="CONTROL_ESCOLAR">
  <ReportesPage />
</PrivateRoute>
```

---

## üêõ Troubleshooting

### Error: "Network Error" al hacer login

**Causa:** Backend no est√° corriendo

**Soluci√≥n:**
```bash
# Verificar que el backend est√© corriendo
curl http://localhost:3000/health

# Si no responde, iniciar el backend
cd school_management_backend
npm run dev
```

### Error: "Cannot find module"

**Causa:** Dependencias no instaladas

**Soluci√≥n:**
```bash
rm -rf node_modules package-lock.json
npm install
```

### Error: Token expirado

**Causa:** El JWT ha expirado (24h por defecto)

**Soluci√≥n:**
- Hacer logout y login nuevamente
- El sistema redirige autom√°ticamente al login

### La aplicaci√≥n no se conecta al backend

**Causa:** URL incorrecta en `.env`

**Soluci√≥n:**
```env
# Verificar que la URL sea correcta
VITE_API_URL=http://localhost:3000/api
```

---

## üì± Responsive Design

La aplicaci√≥n est√° optimizada para:

- üì± **Mobile:** < 768px
- üíª **Tablet:** 768px - 1024px
- üñ•Ô∏è **Desktop:** > 1024px

Usa Tailwind breakpoints:
- `sm:` - 640px
- `md:` - 768px
- `lg:` - 1024px
- `xl:` - 1280px

---

## ü§ù Contribuci√≥n

1. Fork el proyecto
2. Crea una rama (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

---

## üìù Licencia

Este proyecto est√° bajo la Licencia MIT. Ver archivo `LICENSE` para m√°s detalles.

---

## üîó Enlaces

- [Backend Repository](https://github.com/tu-usuario/school_management_backend)
- [Documentaci√≥n de la API](../backend/docs/API.md)
- [Dise√±o en Figma](https://figma.com/...)

---

## üë• Autor

Desarrollado como prueba t√©cnica para NexGen

---

## üì∏ Screenshots

### Login
![Login](docs/screenshots/login.png)

### Dashboard - Maestro
![Dashboard Maestro](docs/screenshots/dashboard-maestro.png)

### Calificaciones
![Calificaciones](docs/screenshots/calificaciones.png)

### Reportes - Control Escolar
![Reportes](docs/screenshots/reportes.png)

---

**¬øNecesitas ayuda?** Abre un [issue](https://github.com/tu-usuario/school_management_frontend/issues) en GitHub.